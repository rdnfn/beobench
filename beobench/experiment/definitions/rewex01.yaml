# REWEX Experiment 01
# Run with the command
# beobench run -c beobench/experiment/definitions/rewex01.yaml -d . --use-gpu --docker-shm-size 32gb

# agent config
agent:
  origin: rllib # either path to agent script or name of agent library (rllib)
  config: # given to ray.tune.run() as arguments (since rllib set before)
    run_or_experiment: PPO
    stop:
      timesteps_total: 400000
    config:
      lr: 0.005
      model:
        fcnet_activation: relu
        fcnet_hiddens: [256,256,256,256]
        post_fcnet_activation: tanh
      batch_mode: complete_episodes
      gamma: 0.999
      horizon: 1000
      metrics_smoothing_episodes: 5
      framework: torch
      log_level: "WARNING"
      num_workers: 1 # this is required for energym to work (can fail silently otherwise)
      num_gpus: 1
# environment config
env:
  name: Apartments2Thermal-v0
  gym: energym
  config:
    # Number of simulation days
    days: 365
    # Name of energym environment
    energym_environment: Apartments2Thermal-v0
    gym_kwargs:
      # Maximum number of timesteps in one episode
      max_episode_length: 35040 # corresponds to a year of 15 min steps
      # User-provided flag to require state and action spaces to be normalized
      normalize: true
      # Number of real-world minutes between timesteps in building simulation
      step_period: 15
    # Weather file to use for the scenario (possible files depend on env chosen)
    weather: ESP_CT_Barcelona